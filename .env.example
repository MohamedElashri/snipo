# Server Configuration
SNIPO_HOST=0.0.0.0
SNIPO_PORT=8080
SNIPO_TRUST_PROXY=false

# Reverse Proxy Configuration (Optional)
# Set this when deploying behind a reverse proxy with a subpath
# Example: /snipo for accessing at https://yourdomain.com/snipo/
# Leave empty for root path deployment
# SNIPO_BASE_PATH=/snipo

# Database
SNIPO_DB_PATH=/data/snipo.db

# Authentication (REQUIRED)
# OPTION 1 (Recommended): Use pre-hashed password for better security
# Generate with: ./snipo hash-password your-password
# SNIPO_MASTER_PASSWORD_HASH=$argon2id$base64salt$base64hash

# OPTION 2: Plain text password (backward compatible)
SNIPO_MASTER_PASSWORD=add_secure_password

# OPTION 3: Disable authentication entirely (DANGEROUS - see SECURITY.md)
# Only use behind trusted authentication proxy (Authelia, etc.) or in isolated local environment
# SNIPO_DISABLE_AUTH=true

# Required: Session secret (generate with: openssl rand -hex 32)
SNIPO_SESSION_SECRET=generate_with_openssl_rand_hex_32
SNIPO_SESSION_DURATION=168h

# Encryption salt for backup encryption (generate with: openssl rand -base64 32)
# If not set, a random salt will be auto-generated (not recommended for production)
# SNIPO_ENCRYPTION_SALT=generate_with_openssl_rand_base64_32

# Rate Limiting (Login)
SNIPO_RATE_LIMIT=100
SNIPO_RATE_WINDOW=1m

# API Rate Limiting (requests per hour)
SNIPO_RATE_LIMIT_READ=1000
SNIPO_RATE_LIMIT_WRITE=500
SNIPO_RATE_LIMIT_ADMIN=100

# CORS Configuration
# Comma-separated list of allowed origins, or * for development
SNIPO_ALLOWED_ORIGINS=http://localhost:3000,https://snipo.example.com

# API Feature Flags
SNIPO_ENABLE_PUBLIC_SNIPPETS=true
SNIPO_ENABLE_API_TOKENS=true
SNIPO_ENABLE_BACKUP_RESTORE=true

# S3 Storage (Optional)
SNIPO_S3_ENABLED=false
SNIPO_S3_ENDPOINT=s3.amazonaws.com
SNIPO_S3_ACCESS_KEY=
SNIPO_S3_SECRET_KEY=
SNIPO_S3_BUCKET=snipo-backups
SNIPO_S3_REGION=us-east-1
SNIPO_S3_SSL=true

# Logging
SNIPO_LOG_LEVEL=info
SNIPO_LOG_FORMAT=json

# Demo Mode (Hidden Feature - For Testing/Demonstration Only)
# WARNING: This is a special mode for public demos and testing
# When enabled:
# - Login password is hardcoded to "demo"
# - Database resets every 15 minutes (configurable)
# - Password changes are disabled
# - API key creation is disabled
# - 10 fake snippets are created automatically (including multi-file examples)
# DO NOT USE IN PRODUCTION
# SNIPO_DEMO_MODE=false
# SNIPO_DEMO_RESET_INTERVAL=15m
